<!DOCTYPE html>
<html lang="ja" xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity4">

<head>
	<meta charset="utf-8">
	<title>TooWayBakery</title>
	<link rel="preconnect" href="//fonts.gstatic.com/" crossorigin>

	<!-- PICK ONE OF THE STYLES BELOW -->
	<link rel="stylesheet" type="text/css" th:href="@{/css/classic.css}">
	<!-- <link href="css/corporate.css" rel="stylesheet"> -->
	<!-- <link href="css/modern.css" rel="stylesheet"> -->

	<!-- BEGIN SETTINGS -->
	<style>
		body {
			opacity: 0;
		}
	</style>
	<!-- END SETTINGS -->
</head>

<body>
	<main class="main d-flex w-100">
		<div class="container d-flex flex-column">
			<div class="row h-100">
				<div class="col-sm-10 col-md-8 col-lg-6 mx-auto d-table h-100">
					<div class="d-table-cell align-middle">

						<div class="text-center mt-4">
							<h1 class="h2">Welcome to PIS</h1>
							<p class="lead">
								Sign in to your account to continue
							</p>
						</div>

						<div class="card">
							<div class="card-header">
								<div class="text-center">
									<img th:src="@{/images/logo_black.png}" class="img-fluid rounded-circle" width="132" height="132" />
								</div>
								<div th:if="${param.error}" style="width: 90%; margin:0 auto;">
									<div class="alert alert-warning alert-dismissible" role="alert" style="margin-bottom: -1rem; margin-top: 1rem">
										<button type="button" class="close" data-dismiss="alert" aria-label="Close">
											<span aria-hidden="true">Ã—</span>
										</button>
										<div class="alert-message">
											Wrong user name or password!
										</div>
									</div>
								</div>
							</div>
							<div class="card-body">
								<div class="m-sm-4">
									<form class="needs-validation" novalidate id="loginForm" method="post" th:action="@{/login.do}">
										<div class="form-group">
											<label>User Name</label>
											<input class="form-control form-control-lg" type="username" name="username" placeholder="Enter your user name" required/>
										</div>
										<div class="form-group">
											<label>Password</label>
											<input class="form-control form-control-lg" type="password" name="password" placeholder="Enter your password" required/>
										</div>
										<div class="text-center mt-3">
											 <button type="submit" class="btn btn-lg btn-primary">Sign in</button>
										</div>
									</form>
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
	</main>
	<script type="text/javascript" th:src="@{/js/app.js}"></script>
	<script type="text/javascript" th:src="@{/js/validation.js}"></script>
	<script>
		$(document).ready(function(){
			$("#loginForm").on("submit", function(){
				$("#btnLogin").prop("disabled", true);
				$("#btnLogin").html(
						`<span class="spinner-grow spinner-grow-sm" role="status" aria-hidden="true" style="position: relative;top: -0.125rem;"></span>Signing...`
				);
			});//submit
		});//document ready

	</script>
</body>

</html>